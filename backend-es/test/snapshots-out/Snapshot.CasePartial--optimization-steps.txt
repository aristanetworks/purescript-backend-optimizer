Snapshot.CasePartial.test1 (Step 0; Original)
  (\$__unused@v0 -> \v@v1 -> 
    ((\$__unused@v2 -> 
      {#- Rewrite - Inline -#}
      let v3 =
        v@v1;
      {#- Rewrite - Inline -#}
      let v4 =
        (\ ->
          1
        );
      {#- Rewrite - Inline -#}
      let v5 =
        (\ ->
          2
        );
      {#- Rewrite - Inline -#}
      let v6 =
        (\ ->
          3
        );
      if (== v3 1) then
        (v4)
      else if (== v3 2) then
        (v5)
      else if (== v3 3) then
        (v6)
      else
        <PatternMatchFailure>
    ) <PrimUndefined>)
  )
---------------
Snapshot.CasePartial.test1 (Step 1)
  (\$__unused@v0 -> \v@v1 -> 
    {#- Rewrite - Inline -#}
    let v2 =
      <PrimUndefined>;
    if (== v@v1 1) then
      1
    else if (== v@v1 2) then
      2
    else if (== v@v1 3) then
      3
    else
      <PatternMatchFailure>
  )
---------------
Snapshot.CasePartial.test1 (Step 2; Final)
  (\$__unused@v0 -> \v@v1 -> 
    if (== v@v1 1) then
      1
    else if (== v@v1 2) then
      2
    else if (== v@v1 3) then
      3
    else
      <PatternMatchFailure>
  )